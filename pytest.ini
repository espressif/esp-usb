[pytest]
# only the files with prefix `pytest_` would be recognized as pytest test scripts.
python_files = pytest_*.py

# Skip pytest_*.py files located inside managed_components and static_analysis
norecursedirs = managed_components/* static_analysis/*

# set traceback to "short" to prevent the overwhelming tracebacks
addopts =
  -s
  --embedded-services esp,idf
  --tb short

markers =
  # env markers
  usb_host: usb host runners with two DUTs (device and host)
  usb_device: usb device runners
  usb_host_flash_disk: usb host runners with usb flash disk
  host_test: linux host test

# ignore PytestExperimentalApiWarning for record_xml_attribute
filterwarnings =
  ignore::_pytest.warning_types.PytestExperimentalApiWarning

# log related
log_cli = True
log_cli_level = INFO
log_cli_format = %(asctime)s %(levelname)s %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S
# junit related
junit_family = xunit1
## log all to `system-out` when case fail
junit_logging = stdout
junit_log_passing_tests = False
